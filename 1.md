# 第１章

例えば、以下のようなファイルが合ったとする

```txt
hogehugehirehare
fffhogehugehore
hogehogehugehuge
```

これを、以下のようにパイプでつなげることができる

```bash
grep -o hoge file.txt | wc -l
```

ここでは、-oによって一致する部分だけgrepし、パイプでつなげてwcコマンドでカウントしている

sedコマンドは、edをワンラインでできるようにしているだけ。

```bash
sed -n '1p' file
```

簡単に言うと、edモードのs(substitude)をそのままやってるだけ。-nは指定された行に一致する行のみ出力する。1は行数でpはプリントのエイリアス。vimのノーマルモードの操作に似ている。

もちろん書き換えることもできる。書き換える場合は以下のような形で行う。

```bash
sed 's/hoge/hogera/' file.txt > file_new.txt
```

edのsのポイントは、`s/hoge/huga`ではだめであること。必ず最後の/も必要。`s/hoge/huga/`という形で書くことに注意。また、vimと同じで末尾にgをつけると該当行の後ろの部分も連続して対象となる

grepが使い物になったことで、以下のようなコマンドを書くことができる。

```bash
grep hoge file.txt | sed 's/hoge/huga/g' > file_new2.txt
grep huga file_new2.txt | rev
```

echoの仕方について

```bash
echo text text2 text3
```

echoする際、間にスペース複数ある場合は、クォートで囲う

```bash
echo 'text  text2      text3'
```

マニュアルを章ごとに表示する場合は以下のような形で表示する

```bash
man 1 ls
```

ところで、lsではなくlでも行ける時がある。しかし、manでやっても表示されない。その場合どうするか？

答えは

```bash
type l
```

とすると、

```txt
l is an alias for ls -lah
```

と表示される

また、単に

```bash
alias l
```

とすると、`l='ls -lah'`と表示される

2つのディレクトリを行ったり来たりするとき

```bash
cd -
```

とやると、行ったり来たりできる。便利。

shellの機能として、ワイルドカードを使って検索したりとかもできる

```bash
grep mason ~/.config/nvim/lua/plugins/*.lua
```

echoで単にリストを表示することもできる

```bash
echo ~/.config/nvim/lua/plugins/*.lua
```

ワイルドカードには他にも種類がある。例えば

```bash
echo 2013??.rst
```

と言った形で表示することも可能
